const rawWrk = primaryData.WrkData || []

// ðŸ”¥ Wrkì˜ TAG_IDXë¡œ Pub ì¡´ìž¬ ì—¬ë¶€ í™•ì¸ ì¶”ê°€
const enhancedWrk = await Promise.all(
  rawWrk.map(async item => {
    if (!item.TAG_IDX) {
      return { ...item, hasPub: false }
    }

    try {
      const detailRes = await axiosWrapper.post(
        '/api/Data/GetPubDataByID',
        {
          ProjectNo: projectNoInput.value,
          TAG_IDX: item.TAG_IDX,
          ContainDeleted: true
        }
      )

      return {
        ...item,
        hasPub: !!detailRes
      }
    } catch (e) {
      console.error('GetPubDataByID ì‹¤íŒ¨:', e)
      return {
        ...item,
        hasPub: false
      }
    }
  })
)

wrkData.value = enhancedWrk
